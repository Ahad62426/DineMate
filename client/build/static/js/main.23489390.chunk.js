(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(22),i=n.n(c),s=n(18),u=n(26),o=n(86),b=n(180),j=n(181),d=n(33),h=n.n(d),O=n(41),l=n(42),p=n(179),f=n(91),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:e,payload:t,extras:n}},v="SIGN_IN_FAILURE",x="SET_SESSION",g="SET_TOAST",y="RESET_TOAST",E={},S=n(87),I=Object(S.create)({baseURL:"".concat("http://localhost:8000/"),headers:{Accept:"application/json",Authorization:""},timeout:1e4}),k=function e(){Object(l.a)(this,e)};k.default=function(e){return e.pipe(Object(f.a)("SIGN_IN"),Object(p.a)(function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r,a,c,i,s,u,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.email,a=n.password,e.prev=1,e.next=4,I.post(E.signIn,{email:r,password:a});case 4:if(c=e.sent,i=c.status,s=c.data,u=c.problem,!i||200!==i){e.next=9;break}return o=s.token,e.abrupt("return",m("SIGN_IN_SUCCESS",{token:o,failure_action:v}));case 9:if(!i||401!==i&&422!==i&&503!==i){e.next=11;break}return e.abrupt("return",m(v));case 11:if(!u||"NETWORK_ERROR"!==u){e.next=13;break}return e.abrupt("return",m(v));case 13:return e.abrupt("return",m(v));case 16:return e.prev=16,e.t0=e.catch(1),console.log("Default Unknown Error",e.t0),e.abrupt("return",m(v));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()))};var _=Object(j.a)(k.default),w=n(19),R=Object(u.c)({sessionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,admin:null},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case x:return Object(w.a)(Object(w.a)({},e),{},{user:r.user,admin:r.admin});default:return e}},toastReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toast:null},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return Object(w.a)(Object(w.a)({},e),{},{toast:r});case y:return Object(w.a)(Object(w.a)({},e),{},{toast:null});default:return e}}}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,T=Object(b.a)(),A=Object(o.createLogger)({collapsed:!0}),N=Object(u.e)(R,{},U(Object(u.a)(T,A)));T.run(_);var z=N,C=n(90),L=n(8),D=n(32),P=n(52),G=n(89),B=n(55),J=(n(172),n(174),{apiKey:"AIzaSyBV-_bfQ2QCkjGJqYxeAh9_CIz0sfezRaA",authDomain:"bizinissify-cea9d.firebaseapp.com",databaseURL:"https://bizinissify-cea9d.firebaseio.com",projectId:"bizinissify-cea9d",storageBucket:"bizinissify-cea9d.appspot.com",messagingSenderId:"823024032780",appId:"1:823024032780:web:c1a2eef793b585f4bc2229",measurementId:"G-RQPEC6JT3Z"}),Q=new(function(){function e(){Object(l.a)(this,e),B.a.initializeApp(J),this.auth=B.a.auth(),this.db=B.a.firestore()}return Object(G.a)(e,[{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"register",value:function(){var e=Object(O.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(n,r);case 2:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:t}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){var e=this;return new Promise((function(t){e.auth.onAuthStateChanged(t)}))}},{key:"getCurrentUser",value:function(){return this.auth.currentUser?{id:this.auth.currentUser.uid,name:this.auth.currentUser.displayName,email:this.auth.currentUser.email}:null}},{key:"delete",value:function(){this.auth.currentUser&&this.auth.currentUser.delete()}}]),e}());var W=function(){var e=Object(s.c)((function(e){return e.toastReducer.toast})),t=Object(s.b)(),n=Object(P.useToasts)().addToast;return Object(a.useEffect)((function(){e&&(n(e.message,{appearance:e.type}),t(m(y)))}),[e,n,t]),Object(r.jsx)("div",{})};var F=function(e){var t=Object(L.g)().url;return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"SideBar"}),Object(r.jsx)(D.b,{to:"".concat(t),children:"Dashboard"}),Object(r.jsx)(D.b,{to:"".concat(t,"/others"),children:"Others"}),Object(r.jsx)("hr",{}),Object(r.jsx)("hr",{})]})};var K=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Dashboard"})})};var V=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Others"})})};var X=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Page Not Found!"})})};var q=function(e){var t=Object(L.g)().path;return Object(r.jsxs)("div",{children:[Object(r.jsx)(F,{}),Object(r.jsxs)(L.d,{children:[Object(r.jsx)(L.b,{exact:!0,path:t,component:K}),Object(r.jsx)(L.b,{path:"".concat(t,"/others"),component:V}),Object(r.jsx)(L.b,{component:X})]})]})};var M=function(e){var t=Object(s.c)((function(e){return e.sessionReducer.admin})),n=Object(s.b)();return Object(a.useEffect)((function(){t&&e.history.replace("/admin")}),[t]),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"AdminLogin"}),Object(r.jsx)("button",{onClick:function(){return n(m(x,{admin:"Ahad"}))},children:"Login"})]})};var Y=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Restaurants"})})};n(176);function Z(){var e=Object(s.c)((function(e){return e.sessionReducer.admin})),t=(Object(s.c)((function(e){return e.sessionReducer.user})),Object(s.b)());Object(a.useEffect)((function(){Q.isInitialized().then((function(){Q.getCurrentUser()&&t(m(x,Q.getCurrentUser()))}))}),[t]);var n=function(t){var n=t.component,a=Object(C.a)(t,["component"]);return Object(r.jsx)(L.b,Object(w.a)(Object(w.a)({},a),{},{render:function(t){return e?Object(r.jsx)(n,Object(w.a)({},t)):Object(r.jsx)(L.a,{to:{pathname:"/adminLogin",state:{from:t.location.pathname}}})}}))};return Object(r.jsx)(P.ToastProvider,{autoDismiss:!0,autoDismissTimeout:6e3,children:Object(r.jsxs)(D.a,{children:[Object(r.jsx)(W,{}),Object(r.jsxs)(L.d,{children:[Object(r.jsx)(L.b,{exact:!0,path:"/",component:Y}),Object(r.jsx)(n,{path:"/admin",component:q}),Object(r.jsx)(L.b,{path:"/adminLogin",component:M}),Object(r.jsx)(L.b,{component:X})]})]})})}i.a.render(Object(r.jsx)(s.a,{store:z,children:Object(r.jsx)(Z,{})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.23489390.chunk.js.map